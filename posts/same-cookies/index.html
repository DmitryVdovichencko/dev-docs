<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/dev-docs/styles.f52a65fcb17fe7ff562c.css">.picture-module--container--3WJez{display:flex;flex-flow:column nowrap;justify-content:center;margin:20px auto}.picture-module--image--3X5zU{width:90%;box-shadow:0 16px 48px 0 rgba(0,0,0,.12);margin:15px auto;border-radius:5px}@media (min-width:768px){.picture-module--image--3X5zU{width:60%}}.picture-module--title--1HQUO{font-size:.8rem;margin:15px auto;color:#8492a0;font-style:italic}@font-face{font-family:octicons-link;src:url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAAQAAAAAZnBnbQAAA7gAAACyAAABCUM+8IhnYXNwAAAGTAAAABAAAAAQABoAI2dseWYAAAFsAAABPAAAAZwcEq9taGVhZAAAAsgAAAA0AAAANgh4a91oaGVhAAADCAAAABoAAAAkCA8DRGhtdHgAAAL8AAAADAAAAAwGAACfbG9jYQAAAsAAAAAIAAAACABiATBtYXhwAAACqAAAABgAAAAgAA8ASm5hbWUAAAToAAABQgAAAlXu73sOcG9zdAAABiwAAAAeAAAAME3QpOBwcmVwAAAEbAAAAHYAAAB/aFGpk3jaTY6xa8JAGMW/O62BDi0tJLYQincXEypYIiGJjSgHniQ6umTsUEyLm5BV6NDBP8Tpts6F0v+k/0an2i+itHDw3v2+9+DBKTzsJNnWJNTgHEy4BgG3EMI9DCEDOGEXzDADU5hBKMIgNPZqoD3SilVaXZCER3/I7AtxEJLtzzuZfI+VVkprxTlXShWKb3TBecG11rwoNlmmn1P2WYcJczl32etSpKnziC7lQyWe1smVPy/Lt7Kc+0vWY/gAgIIEqAN9we0pwKXreiMasxvabDQMM4riO+qxM2ogwDGOZTXxwxDiycQIcoYFBLj5K3EIaSctAq2kTYiw+ymhce7vwM9jSqO8JyVd5RH9gyTt2+J/yUmYlIR0s04n6+7Vm1ozezUeLEaUjhaDSuXHwVRgvLJn1tQ7xiuVv/ocTRF42mNgZGBgYGbwZOBiAAFGJBIMAAizAFoAAABiAGIAznjaY2BkYGAA4in8zwXi+W2+MjCzMIDApSwvXzC97Z4Ig8N/BxYGZgcgl52BCSQKAA3jCV8CAABfAAAAAAQAAEB42mNgZGBg4f3vACQZQABIMjKgAmYAKEgBXgAAeNpjYGY6wTiBgZWBg2kmUxoDA4MPhGZMYzBi1AHygVLYQUCaawqDA4PChxhmh/8ODDEsvAwHgMKMIDnGL0x7gJQCAwMAJd4MFwAAAHjaY2BgYGaA4DAGRgYQkAHyGMF8NgYrIM3JIAGVYYDT+AEjAwuDFpBmA9KMDEwMCh9i/v8H8sH0/4dQc1iAmAkALaUKLgAAAHjaTY9LDsIgEIbtgqHUPpDi3gPoBVyRTmTddOmqTXThEXqrob2gQ1FjwpDvfwCBdmdXC5AVKFu3e5MfNFJ29KTQT48Ob9/lqYwOGZxeUelN2U2R6+cArgtCJpauW7UQBqnFkUsjAY/kOU1cP+DAgvxwn1chZDwUbd6CFimGXwzwF6tPbFIcjEl+vvmM/byA48e6tWrKArm4ZJlCbdsrxksL1AwWn/yBSJKpYbq8AXaaTb8AAHja28jAwOC00ZrBeQNDQOWO//sdBBgYGRiYWYAEELEwMTE4uzo5Zzo5b2BxdnFOcALxNjA6b2ByTswC8jYwg0VlNuoCTWAMqNzMzsoK1rEhNqByEyerg5PMJlYuVueETKcd/89uBpnpvIEVomeHLoMsAAe1Id4AAAAAAAB42oWQT07CQBTGv0JBhagk7HQzKxca2sJCE1hDt4QF+9JOS0nbaaYDCQfwCJ7Au3AHj+LO13FMmm6cl7785vven0kBjHCBhfpYuNa5Ph1c0e2Xu3jEvWG7UdPDLZ4N92nOm+EBXuAbHmIMSRMs+4aUEd4Nd3CHD8NdvOLTsA2GL8M9PODbcL+hD7C1xoaHeLJSEao0FEW14ckxC+TU8TxvsY6X0eLPmRhry2WVioLpkrbp84LLQPGI7c6sOiUzpWIWS5GzlSgUzzLBSikOPFTOXqly7rqx0Z1Q5BAIoZBSFihQYQOOBEdkCOgXTOHA07HAGjGWiIjaPZNW13/+lm6S9FT7rLHFJ6fQbkATOG1j2OFMucKJJsxIVfQORl+9Jyda6Sl1dUYhSCm1dyClfoeDve4qMYdLEbfqHf3O/AdDumsjAAB42mNgYoAAZQYjBmyAGYQZmdhL8zLdDEydARfoAqIAAAABAAMABwAKABMAB///AA8AAQAAAAAAAAAAAAAAAAABAAAAAA==) format("woff")}.markdown-body .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.markdown-body .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}.markdown-body .anchor:focus{outline:none}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;color:#24292e;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body .pl-c{color:#6a737d}.markdown-body .pl-c1,.markdown-body .pl-s .pl-v{color:#005cc5}.markdown-body .pl-e,.markdown-body .pl-en{color:#6f42c1}.markdown-body .pl-s .pl-s1,.markdown-body .pl-smi{color:#24292e}.markdown-body .pl-ent{color:#22863a}.markdown-body .pl-k{color:#d73a49}.markdown-body .pl-pds,.markdown-body .pl-s,.markdown-body .pl-s .pl-pse .pl-s1,.markdown-body .pl-sr,.markdown-body .pl-sr .pl-cce,.markdown-body .pl-sr .pl-sra,.markdown-body .pl-sr .pl-sre{color:#032f62}.markdown-body .pl-smw,.markdown-body .pl-v{color:#e36209}.markdown-body .pl-bu{color:#b31d28}.markdown-body .pl-ii{background-color:#b31d28;color:#fafbfc}.markdown-body .pl-c2{background-color:#d73a49;color:#fafbfc}.markdown-body .pl-c2:before{content:"^M"}.markdown-body .pl-sr .pl-cce{color:#22863a;font-weight:700}.markdown-body .pl-ml{color:#735c0f}.markdown-body .pl-mh,.markdown-body .pl-mh .pl-en,.markdown-body .pl-ms{color:#005cc5;font-weight:700}.markdown-body .pl-mi{color:#24292e;font-style:italic}.markdown-body .pl-mb{color:#24292e;font-weight:700}.markdown-body .pl-md{background-color:#ffeef0;color:#b31d28}.markdown-body .pl-mi1{background-color:#f0fff4;color:#22863a}.markdown-body .pl-mc{background-color:#ffebda;color:#e36209}.markdown-body .pl-mi2{background-color:#005cc5;color:#f6f8fa}.markdown-body .pl-mdr{color:#6f42c1;font-weight:700}.markdown-body .pl-ba{color:#586069}.markdown-body .pl-sg{color:#959da5}.markdown-body .pl-corl{color:#032f62;text-decoration:underline}.markdown-body details{display:block}.markdown-body summary{display:list-item}.markdown-body a{background-color:transparent}.markdown-body a:active,.markdown-body a:hover{outline-width:0}.markdown-body strong{font-weight:inherit;font-weight:bolder}.markdown-body h1{margin:.67em 0}.markdown-body img{border-style:none}.markdown-body code,.markdown-body kbd,.markdown-body pre{font-family:monospace,monospace;font-size:1em}.markdown-body hr{box-sizing:content-box;overflow:visible}.markdown-body input{font:inherit;margin:0;overflow:visible}.markdown-body [type=checkbox]{box-sizing:border-box;padding:0}.markdown-body *{box-sizing:border-box}.markdown-body input{font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body a{color:#0366d6;text-decoration:none}.markdown-body a:hover{text-decoration:underline}.markdown-body strong{font-weight:600}.markdown-body hr{background:transparent;border-bottom:1px solid #dfe2e5;height:0;margin:15px 0;overflow:hidden}.markdown-body hr:after,.markdown-body hr:before{content:"";display:table}.markdown-body hr:after{clear:both}.markdown-body table{border-collapse:collapse;border-spacing:0}.markdown-body td,.markdown-body th{padding:0}.markdown-body details summary{cursor:pointer}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-bottom:0;margin-top:0}.markdown-body h1{font-size:32px}.markdown-body h1,.markdown-body h2{font-weight:600}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:20px}.markdown-body h3,.markdown-body h4{font-weight:600}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:14px}.markdown-body h5,.markdown-body h6{font-weight:600}.markdown-body h6{font-size:12px}.markdown-body p{margin-bottom:10px;margin-top:0}.markdown-body blockquote{margin:0}.markdown-body ol,.markdown-body ul{margin-bottom:0;margin-top:0;padding-left:0}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ol ol ol,.markdown-body ol ul ol,.markdown-body ul ol ol,.markdown-body ul ul ol{list-style-type:lower-alpha}.markdown-body dd{margin-left:0}.markdown-body code,.markdown-body pre{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px}.markdown-body pre{margin-bottom:0;margin-top:0}.markdown-body input::-webkit-inner-spin-button,.markdown-body input::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}.markdown-body .border{border:1px solid #e1e4e8!important}.markdown-body .border-0{border:0!important}.markdown-body .border-bottom{border-bottom:1px solid #e1e4e8!important}.markdown-body .rounded-1{border-radius:3px!important}.markdown-body .bg-white{background-color:#fff!important}.markdown-body .bg-gray-light{background-color:#fafbfc!important}.markdown-body .text-gray-light{color:#6a737d!important}.markdown-body .mb-0{margin-bottom:0!important}.markdown-body .my-2{margin-bottom:8px!important;margin-top:8px!important}.markdown-body .py-0{padding-bottom:0!important;padding-top:0!important}.markdown-body .py-2{padding-bottom:8px!important;padding-top:8px!important}.markdown-body .pl-3,.markdown-body .px-3{padding-left:16px!important}.markdown-body .px-3{padding-right:16px!important}.markdown-body .f6{font-size:12px!important}.markdown-body .lh-condensed{line-height:1.25!important}.markdown-body .text-bold{font-weight:600!important}.markdown-body:after,.markdown-body:before{content:"";display:table}.markdown-body:after{clear:both}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-bottom:16px;margin-top:0}.markdown-body hr{background-color:#e1e4e8;border:0;height:.25em;margin:24px 0;padding:0}.markdown-body blockquote{border-left:.25em solid #dfe2e5;color:#6a737d;padding:0 1em}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body kbd{border:1px solid #c6cbd1;border-bottom-color:#959da5;box-shadow:inset 0 -1px 0 #959da5;font-size:11px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:600;line-height:1.25;margin-bottom:16px;margin-top:24px}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{border-bottom:1px solid #eaecef;padding-bottom:.3em}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{color:#6a737d;font-size:.85em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-bottom:0;margin-top:0}.markdown-body li{word-wrap:break-all}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{font-size:1em;font-style:italic;font-weight:600;margin-top:16px;padding:0}.markdown-body dl dd{margin-bottom:16px;padding:0 16px}.markdown-body table{display:block;overflow:auto;width:100%}.markdown-body table th{font-weight:600}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:6px 13px}.markdown-body table tr{background-color:#fff;border-top:1px solid #c6cbd1}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body img{background-color:#fff;box-sizing:content-box;max-width:100%}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body code{background-color:rgba(27,31,35,.05);border-radius:3px;font-size:85%;margin:0;padding:.2em .4em}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{background:transparent;border:0;font-size:100%;margin:0;padding:0;white-space:pre;word-break:normal}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{background-color:#f6f8fa;border-radius:3px;font-size:85%;line-height:1.45;overflow:auto;padding:16px}.markdown-body pre code{background-color:transparent;border:0;display:inline;line-height:inherit;margin:0;max-width:auto;overflow:visible;padding:0;word-wrap:normal}.markdown-body .commit-tease-sha{color:#444d56;display:inline-block;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:90%}.markdown-body .blob-wrapper{border-bottom-left-radius:3px;border-bottom-right-radius:3px;overflow-x:auto;overflow-y:hidden}.markdown-body .blob-wrapper-embedded{max-height:240px;overflow-y:auto}.markdown-body .blob-num{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;color:rgba(27,31,35,.3);cursor:pointer;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px;line-height:20px;min-width:50px;padding-left:10px;padding-right:10px;text-align:right;user-select:none;vertical-align:top;white-space:nowrap;width:1%}.markdown-body .blob-num:hover{color:rgba(27,31,35,.6)}.markdown-body .blob-num:before{content:attr(data-line-number)}.markdown-body .blob-code{line-height:20px;padding-left:10px;padding-right:10px;position:relative;vertical-align:top}.markdown-body .blob-code-inner{color:#24292e;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px;overflow:visible;white-space:pre;word-wrap:normal}.markdown-body .pl-token.active,.markdown-body .pl-token:hover{background:#ffea7f;cursor:pointer}.markdown-body kbd{background-color:#fafbfc;border:1px solid #d1d5da;border-bottom-color:#c6cbd1;border-radius:3px;box-shadow:inset 0 -1px 0 #c6cbd1;color:#444d56;display:inline-block;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;line-height:10px;padding:3px 5px;vertical-align:middle}.markdown-body :checked+.radio-label{border-color:#0366d6;position:relative;z-index:1}.markdown-body .tab-size[data-tab-size="1"]{-moz-tab-size:1;-o-tab-size:1;tab-size:1}.markdown-body .tab-size[data-tab-size="2"]{-moz-tab-size:2;-o-tab-size:2;tab-size:2}.markdown-body .tab-size[data-tab-size="3"]{-moz-tab-size:3;-o-tab-size:3;tab-size:3}.markdown-body .tab-size[data-tab-size="4"]{-moz-tab-size:4;-o-tab-size:4;tab-size:4}.markdown-body .tab-size[data-tab-size="5"]{-moz-tab-size:5;-o-tab-size:5;tab-size:5}.markdown-body .tab-size[data-tab-size="6"]{-moz-tab-size:6;-o-tab-size:6;tab-size:6}.markdown-body .tab-size[data-tab-size="7"]{-moz-tab-size:7;-o-tab-size:7;tab-size:7}.markdown-body .tab-size[data-tab-size="8"]{-moz-tab-size:8;-o-tab-size:8;tab-size:8}.markdown-body .tab-size[data-tab-size="9"]{-moz-tab-size:9;-o-tab-size:9;tab-size:9}.markdown-body .tab-size[data-tab-size="10"]{-moz-tab-size:10;-o-tab-size:10;tab-size:10}.markdown-body .tab-size[data-tab-size="11"]{-moz-tab-size:11;-o-tab-size:11;tab-size:11}.markdown-body .tab-size[data-tab-size="12"]{-moz-tab-size:12;-o-tab-size:12;tab-size:12}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item+.task-list-item{margin-top:3px}.markdown-body .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}.markdown-body hr{border-bottom-color:#eee}.markdown-body .pl-0{padding-left:0!important}.markdown-body .pl-1{padding-left:4px!important}.markdown-body .pl-2{padding-left:8px!important}.markdown-body .pl-3{padding-left:16px!important}.markdown-body .pl-4{padding-left:24px!important}.markdown-body .pl-5{padding-left:32px!important}.markdown-body .pl-6{padding-left:40px!important}.markdown-body .pl-7{padding-left:48px!important}.markdown-body .pl-8{padding-left:64px!important}.markdown-body .pl-9{padding-left:80px!important}.markdown-body .pl-10{padding-left:96px!important}.markdown-body .pl-11{padding-left:112px!important}.markdown-body .pl-12{padding-left:128px!important}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}@media screen and (min-width:640px){.post-module--post--3ESLj{padding:5px .5rem}}@media screen and (min-width:900px){.post-module--post--3ESLj{padding:5px 2rem}}body,html{margin:0;padding:0}.layout-module--layout--mFaKB{min-height:100vh;margin:0 auto;padding:0;display:flex;flex-flow:column nowrap;justify-content:flex-start}.layout-module--content--3nIku{margin:0 auto;padding:0 .5rem;min-height:80%;justify-content:space-between}.layout-module--content--3nIku,.layout-module--content__posts--2-sLb{display:flex;flex-flow:column nowrap}@media screen and (min-width:1280px){.layout-module--content--3nIku{padding:0 20rem}}@media screen and (min-width:900px){.layout-module--content--3nIku{padding:0 15rem}}.header-module--header--3A712{padding:0 .5rem}.header-module--nav--2TcPd{width:100%;display:flex;flex-flow:row wrap;justify-content:flex-end;align-items:center}.header-module--nav__item--3vKbG{margin:5px 10px}.footer-module--footer--R2bpz{border-top:1px solid #eaecef;margin:auto 10px;padding:20px 0;display:flex;flex-flow:column nowrap;align-items:center}.footer-module--nav--37xmc{width:100%;display:flex;flex-flow:row wrap;justify-content:center;align-items:center}.footer-module--nav__item--P8SsX{margin:5px 10px}.about-module--content--1y3Xq{margin:0 auto;padding:0 .5rem;display:flex;width:100%;height:80%;flex-flow:column nowrap;justify-content:flex-start}@media (min-width:768px){.about-module--content--1y3Xq{flex-flow:row nowrap;justify-content:flex-start}}.about-module--content__text--2OC8i{width:100%}@media (min-width:768px){.about-module--content__text--2OC8i{margin-left:50px}}.contact-module--link--1_D_z{display:flex;flex-flow:row wrap;align-items:center;height:64px;margin:0 5px}.contact-module--icon--3gsly{height:32px;width:auto}.social-module--social--3vJKP{display:flex;flex-flow:row wrap;align-items:center}</style><meta name="generator" content="Gatsby 2.18.12"/><title data-react-helmet="true"></title><link as="script" rel="preload" href="/dev-docs/webpack-runtime-7a80ca71d8fed2e8c7eb.js"/><link as="script" rel="preload" href="/dev-docs/styles-100c2e69dd6ded49ffbe.js"/><link as="script" rel="preload" href="/dev-docs/commons-219ea28c1c39fae67d6f.js"/><link as="script" rel="preload" href="/dev-docs/app-f0861f42ccabb2042c53.js"/><link as="script" rel="preload" href="/dev-docs/component---src-pages-posts-same-cookies-mdx-3bea937819180b42fbf1.js"/><link as="fetch" rel="preload" href="/dev-docs/page-data/posts/same-cookies/page-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><h1>Разбираемся с атрибутом <code>SameSite</code> <strong>cookies</strong></h1><div class="picture-module--container--3WJez"><div class="picture-module--image--3X5zU gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:50%"></div><img src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAIB/9oADAMBAAIQAxAAAAGNsdw9YQi//8QAGhABAQACAwAAAAAAAAAAAAAAAgEAAxAREv/aAAgBAQABBQImEwnOtfBSzXb5/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8BGf/EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAECAQE/AUn/xAAaEAACAwEBAAAAAAAAAAAAAAAAARExMgIQ/9oACAEBAAY/AoanpmTPlss//8QAHRABAAICAgMAAAAAAAAAAAAAAQAhETFBYVGB4f/aAAgBAQABPyE0HY66jcVc6qPOfUVNKT6qKsm/M//aAAwDAQACAAMAAAAQRw//xAAXEQEBAQEAAAAAAAAAAAAAAAARAAFR/9oACAEDAQE/EMQJzl//xAAYEQADAQEAAAAAAAAAAAAAAAAAARExUf/aAAgBAgEBPxBl0j6f/8QAHBABAAMAAgMAAAAAAAAAAAAAAQARITFBcYHh/9oACAEBAAE/EKQGpQQdeXbBw/FGKpC1xioOegahHDrecu72LUz/2Q==" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/dev-docs/static/b98c75e2af9d4b2b51214999ae37c55c/59538/cookie-hero.jpg 150w,
/dev-docs/static/b98c75e2af9d4b2b51214999ae37c55c/88b18/cookie-hero.jpg 300w,
/dev-docs/static/b98c75e2af9d4b2b51214999ae37c55c/c3638/cookie-hero.jpg 600w,
/dev-docs/static/b98c75e2af9d4b2b51214999ae37c55c/67507/cookie-hero.jpg 900w,
/dev-docs/static/b98c75e2af9d4b2b51214999ae37c55c/0ff54/cookie-hero.jpg 1200w,
/dev-docs/static/b98c75e2af9d4b2b51214999ae37c55c/2f26c/cookie-hero.jpg 1434w" sizes="(max-width: 600px) 100vw, 600px" /><img loading="lazy" sizes="(max-width: 600px) 100vw, 600px" srcset="/dev-docs/static/b98c75e2af9d4b2b51214999ae37c55c/59538/cookie-hero.jpg 150w,
/dev-docs/static/b98c75e2af9d4b2b51214999ae37c55c/88b18/cookie-hero.jpg 300w,
/dev-docs/static/b98c75e2af9d4b2b51214999ae37c55c/c3638/cookie-hero.jpg 600w,
/dev-docs/static/b98c75e2af9d4b2b51214999ae37c55c/67507/cookie-hero.jpg 900w,
/dev-docs/static/b98c75e2af9d4b2b51214999ae37c55c/0ff54/cookie-hero.jpg 1200w,
/dev-docs/static/b98c75e2af9d4b2b51214999ae37c55c/2f26c/cookie-hero.jpg 1434w" src="/dev-docs/static/b98c75e2af9d4b2b51214999ae37c55c/c3638/cookie-hero.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div class="picture-module--title--1HQUO"></div></div><p>Перевод статьи <a href="https://web.dev/authors/rowan_m/">Rowan Merewood</a> <a href="https://web.dev/samesite-cookies-explained/?utm_source=devtools">SameSite cookies explained</a></p><p>Защитите свой сайт, узнав как явно определить кросс-сайтовые cookies.</p><p><code>Cookies</code> являются одним из способов хранения состояния на веб-сайтах. Многие годы их возможности росли и развивались, при этом оставляя веб-платформу с некоторыми устаревшими проблемами. Чтобы это исправить, браузеры (включая Chrome, Firefox и Edge) изменили свое поведение в сторону защиты приватных данных пользователей.</p><p>Каждый <code>cookie</code> представляет собой пару ключ-значение <code>key = value</code> с определенным набором атрибутов, которые контролируют когда и где будет использоваться <code>cookie</code>. Возможно, вы уже использовали эти атрибуты, чтобы например установить срок действия <code>cookie</code>, или передачу только по HTTPS. Сервера устанавливают <code>cookies</code> отправляя специальный заголовок <code>Set-Cookie</code> в ответе. За всеми подробностями можно обратиться к спецификации RFC6265bis, но вот краткий обзор того, как это работает.</p><p>Допустим, у вас есть блог, где вы хотите показывать промо &quot;Что нового&quot; своим подписчикам. Пользователь может пропустить промо, и вряд ли после этого захочет увидеть его снова, по крайней мере, на некоторое время. Вы можете записать эту настройку в <code>cookie</code> и установить его срок действия в 1 месяц (2,600,000 сек), а также отправлять его только по HTTPS. В этом случае заголовок будет выглядеть так:</p><pre class="shiki" style="background-color:#0F111A"><code><span style="color:#FFCB6B">Set</span><span style="color:#C792EA">-</span><span style="color:#8F93A2">Cookie</span><span style="color:#FFFFFF">: </span><span style="color:#8F93A2">promo_shown</span><span style="color:#C792EA">=</span><span style="color:#F78C6C">1</span><span style="color:#89DDFF">;</span><span style="color:#FFFFFF"> </span><span style="color:#8F93A2">Max</span><span style="color:#C792EA">-</span><span style="color:#8F93A2">Age</span><span style="color:#C792EA">=</span><span style="color:#F78C6C">2600000</span><span style="color:#89DDFF">;</span><span style="color:#FFFFFF"> </span><span style="color:#8F93A2">Secure</span></code></pre><div class="picture-module--container--3WJez"><div class="picture-module--image--3X5zU gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:34.666666666666664%"></div><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAC4jAAAuIwF4pT92AAABHElEQVQY021QyU4DMQyd/z9z4xv4B5YWkChUKgIqJNpCmem0zepJJouTmHDiQK0ny7L97Gc3dMowZXAkjiv6Oqu+xhHzX7kUKrmikTZ3AnuJrUDj8uBSL3zLHNcYnCryPjrJNO64qwCbQow0PBPMST82i4393On2AB+tfu9cy4JxeFJOyvmgYn9UpO8IHkhNmuW3BYDRDFzCeu96GXbcV+xl1GNCfoNsqmylBaZDTfZM/zLhiWDWXL+ZyRJul3D1oufrcdM7pmMpJWIShpBfJjFVJrkQq6Jexu1ekaqbZ7G7aPSY6+AKabLxxbq0F77j0VogMxudqd9SBjvuD9KLAX3wZF7rwagWzanrSkwEsivb80Gs2FAGG6qW/30/AKqNxP8vKnkAAAAASUVORK5CYII=" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/dev-docs/static/cd58afa205544ac6a062b3a761162450/95f17/set-cookie-response-header.png 150w,
/dev-docs/static/cd58afa205544ac6a062b3a761162450/37d5a/set-cookie-response-header.png 300w,
/dev-docs/static/cd58afa205544ac6a062b3a761162450/8c332/set-cookie-response-header.png 600w,
/dev-docs/static/cd58afa205544ac6a062b3a761162450/bc8e0/set-cookie-response-header.png 800w" sizes="(max-width: 600px) 100vw, 600px" /><img loading="lazy" sizes="(max-width: 600px) 100vw, 600px" srcset="/dev-docs/static/cd58afa205544ac6a062b3a761162450/95f17/set-cookie-response-header.png 150w,
/dev-docs/static/cd58afa205544ac6a062b3a761162450/37d5a/set-cookie-response-header.png 300w,
/dev-docs/static/cd58afa205544ac6a062b3a761162450/8c332/set-cookie-response-header.png 600w,
/dev-docs/static/cd58afa205544ac6a062b3a761162450/bc8e0/set-cookie-response-header.png 800w" src="/dev-docs/static/cd58afa205544ac6a062b3a761162450/8c332/set-cookie-response-header.png" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div class="picture-module--title--1HQUO">Сервера устанавливают cookies, используя заголовок Set-Cookie</div></div><p>Когда ваш посетитель откроет страницу, удовлетворяющую этим требованиям, т.е. соединение защищено и  <code>cookie</code> не старше месяца, браузер отправит этот заголовок в своем запросе: </p><pre class="shiki" style="background-color:#0F111A"><code><span style="color:#8F93A2">Cookie</span><span style="color:#FFFFFF">: </span><span style="color:#8F93A2">promo_shown</span><span style="color:#C792EA">=</span><span style="color:#F78C6C">1</span></code></pre><div class="picture-module--container--3WJez"><div class="picture-module--image--3X5zU gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:20.666666666666664%"></div><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAx0lEQVQI13WOO0/DMBRG8/9/BCNSFwYkNiqWCoFEpUpIbVGiRmBC4rrNw4594+vYHw/ByFnPcE5WSr+vKK9pK1zTBwAp4R9+BCuoG7TL1CyynbBaG2etPOuXijxH4sTsMQkgIgyIE/gU3asPcZwQSGF4wPiczrfZprRlbd6OZi/0VpBsqe5ip/JUXXSqmKvLUd7b5m7+WJx6Khs2g4RewWzS8Tpbl/R0cOuDeyxcXvu/Qf4qz4GTLWbfxmAR+l/F3+XYrej96hOqseBaOa7n8wAAAABJRU5ErkJggg==" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/dev-docs/static/100a94d79ebc16ea29db45ff29cf11ac/95f17/cookie-request-header.png 150w,
/dev-docs/static/100a94d79ebc16ea29db45ff29cf11ac/37d5a/cookie-request-header.png 300w,
/dev-docs/static/100a94d79ebc16ea29db45ff29cf11ac/8c332/cookie-request-header.png 600w,
/dev-docs/static/100a94d79ebc16ea29db45ff29cf11ac/bc8e0/cookie-request-header.png 800w" sizes="(max-width: 600px) 100vw, 600px" /><img loading="lazy" sizes="(max-width: 600px) 100vw, 600px" srcset="/dev-docs/static/100a94d79ebc16ea29db45ff29cf11ac/95f17/cookie-request-header.png 150w,
/dev-docs/static/100a94d79ebc16ea29db45ff29cf11ac/37d5a/cookie-request-header.png 300w,
/dev-docs/static/100a94d79ebc16ea29db45ff29cf11ac/8c332/cookie-request-header.png 600w,
/dev-docs/static/100a94d79ebc16ea29db45ff29cf11ac/bc8e0/cookie-request-header.png 800w" src="/dev-docs/static/100a94d79ebc16ea29db45ff29cf11ac/8c332/cookie-request-header.png" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div class="picture-module--title--1HQUO">Ваш браузер отправляет cookies обратно в заголовке Cookie</div></div><p>Вы также можете добавлять и смотреть <code>cookies</code> доступные на сайте используя <code>document.cookie</code>.
Присваивание значения <code>document.cookie</code> создаст или перезапишет <code>cookie</code> с этим ключом. Например, попробуйте выполнить следующее в JavaScript консоли своего браузера: </p><pre class="shiki" style="background-color:#0F111A"><code><span style="color:#FFFFFF">document</span><span style="color:#89DDFF">.</span><span style="color:#FFFFFF">cookie </span><span style="color:#C792EA">=</span><span style="color:#FFFFFF"> </span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">promo_shown=1; Max-Age=2600000; Secure</span><span style="color:#89DDFF">&quot;</span>
<span style="color:#464B5D">// &quot;promo_shown=1; Max-Age=2600000; Secure&quot;</span></code></pre><p>Чтение <code>document.cookie</code> выведет все <code>cookies</code> доступные в текущем контексте, разделив их <code>;</code></p><pre class="shiki" style="background-color:#0F111A"><code><span style="color:#FFFFFF">document</span><span style="color:#89DDFF">.</span><span style="color:#FFFFFF">cookie</span><span style="color:#89DDFF">;</span>
<span style="color:#464B5D">// &quot;promo_shown=1; color_theme=peachpuff; sidebar_loc=left&quot;</span></code></pre><div class="picture-module--container--3WJez"><div class="picture-module--image--3X5zU gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:64%"></div><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAC4jAAAuIwF4pT92AAABhUlEQVQoz41SyU7DMBD1/1+BA5xAXDgVwYmyHLiAWMTSAm0FSUlKloakbRzHjpN4jJ1AW8o6GllvPH4zeuNB8l8mIDoAa1mmHR0B1LcIKrzgHwydU8fAC6ixKv2N16ftmMn3W0X+qVddIc2gZSZulEP6KMM9RoKWmYZxURUQqBQQU7HgRam5UVLcGDhlxbSWslKItonHROjOXTc7asVnPXza1a6ACh997kX8+HYsQHxorDVoRLns9T3JA3RuUNvHnBJtCeGMWB6+MqkEQbNibjpzakpSOFulvYYuDToYYpoSnBCMCUs1+bpPv9BmZMgCcNelv4VunpnpaHKMSRwTBQznnRxMym/YVcmRfz1xTtB+CzfOx7sXk53KFVDh4V2i3jQvI9PPZpq1fqjDtl3SHFDbZg8Ou3/55B2HVQOHjpU4IV+Q0HtJ3ZD+9s/Thl0b94c55JEcHQvm9hxuDUmdRV/Xa37J6iJ2kI/NhnRXYmPTG/FpAv251vWEIGyCtQSve7PllPINwavnwSzf2s8AAAAASUVORK5CYII=" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/dev-docs/static/a0d7fb078e194527c9cd8879f13cbe9d/95f17/document-cookie.png 150w,
/dev-docs/static/a0d7fb078e194527c9cd8879f13cbe9d/37d5a/document-cookie.png 300w,
/dev-docs/static/a0d7fb078e194527c9cd8879f13cbe9d/8c332/document-cookie.png 600w" sizes="(max-width: 600px) 100vw, 600px" /><img loading="lazy" sizes="(max-width: 600px) 100vw, 600px" srcset="/dev-docs/static/a0d7fb078e194527c9cd8879f13cbe9d/95f17/document-cookie.png 150w,
/dev-docs/static/a0d7fb078e194527c9cd8879f13cbe9d/37d5a/document-cookie.png 300w,
/dev-docs/static/a0d7fb078e194527c9cd8879f13cbe9d/8c332/document-cookie.png 600w" src="/dev-docs/static/a0d7fb078e194527c9cd8879f13cbe9d/8c332/document-cookie.png" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div class="picture-module--title--1HQUO">JavaScript получает доступ к cookies с помощью document.cookie</div></div><p>Если вы попробуете выполнить это на одном из популярных сайтов, то заметите, что большинство из них устанавливают значительно больше чем 3 <code>cookies</code>. Чаще всего, эти <code>cookies</code> отправляются в каждом запросе к домену, что приводит к ряду последствий. Обычно, для пользователей, ограничение исходящего трафика более строгое чем входящего. Так что, все излишние издержки на трафик исходящих запросов приводят к потерям в скорости. Будьте консервативными к числу и размеру <code>cookies</code>, которые вы устанавливаете. Используйте аттрибут <code>Max-Age</code>, чтобы убедиться, что <code>cookies</code> не хранятся дольше чем необходимо.  </p><h2>Какие <code>cookies</code> являются основными а какие сторонними?</h2><p>Если вернуться к тем популярным сайтам на которые мы смотрели выше, вы, возможно, заметили что <code>cookies</code> представлены для разных доменов, а не только для того, на котором вы находитесь. </p><p><strong><code>Cookies</code> домен которых совпадает с текщим доменом из адресной строки браузера являются основными.</strong></p><p><strong>Соответственно, <code>Cookies</code> домен которых отличается от текщего  являются сторонними.</strong></p><p>Эти определения не являются абсолютными, они зависят от окружения пользователя: один и тот же <code>cookie</code> может быть как основным так и сторонним в заисимости от сайта, на котором находится пользователь в текущий момент.</p><div class="picture-module--container--3WJez"><div class="picture-module--image--3X5zU gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:43.333333333333336%"></div><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAC4jAAAuIwF4pT92AAABfElEQVQoz21S30vjQBjM//9+f8G9CD4IwqFi1ROq1rP1UGu1bUzapk2TbZLdZLO/kt393Coc0nMY5uVjmGH4PAvwj59otamFnW3w3mj/MQ6ZANXqj4s2mup2S6sZGOHBF9RCp1jFuSiqppbyIR3mjBDaxjlHxCA0Hga/psvOODoNlyewOfRi3CakdcqUiZAktLEWdmCt1Rr8aHQ87r7i4QAN7uMO5B1vtq6WiPqrahJL+FJ+x+yUk7e73p9+/6l70w+e+oBPPVpRweoC0zCRYcIXiCe5XBcyK/X0kge3InO1M5mWjf8cXh0l/mPxckveLtZbc/e1uh5Xl6Pyb8hdrtZWNUY2mgs1OWfBNeeqkao1LhnNgis/vF9Mfs/zhwkUBx5mxrFghkkTbZTb7NvajYYsDZJ5D8gd0EE5+8miw52123UuVpmq6wpIT3JSS0gKGWc8xRqjaYPOgHQhO6arc7eD93+MC6HF3C5+4I2PSnCdtfnc0akBq7f8+Ix341T5C0FH2vEAAAAASUVORK5CYII=" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/dev-docs/static/4811ef36890b173347e44a0294b3b065/95f17/cross-site-set-cookie-response-header.png 150w,
/dev-docs/static/4811ef36890b173347e44a0294b3b065/37d5a/cross-site-set-cookie-response-header.png 300w,
/dev-docs/static/4811ef36890b173347e44a0294b3b065/8c332/cross-site-set-cookie-response-header.png 600w,
/dev-docs/static/4811ef36890b173347e44a0294b3b065/bc8e0/cross-site-set-cookie-response-header.png 800w" sizes="(max-width: 600px) 100vw, 600px" /><img loading="lazy" sizes="(max-width: 600px) 100vw, 600px" srcset="/dev-docs/static/4811ef36890b173347e44a0294b3b065/95f17/cross-site-set-cookie-response-header.png 150w,
/dev-docs/static/4811ef36890b173347e44a0294b3b065/37d5a/cross-site-set-cookie-response-header.png 300w,
/dev-docs/static/4811ef36890b173347e44a0294b3b065/8c332/cross-site-set-cookie-response-header.png 600w,
/dev-docs/static/4811ef36890b173347e44a0294b3b065/bc8e0/cross-site-set-cookie-response-header.png 800w" src="/dev-docs/static/4811ef36890b173347e44a0294b3b065/8c332/cross-site-set-cookie-response-header.png" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div class="picture-module--title--1HQUO">Cookies могут приходить с множества разных доменов на одной странице.</div></div><p>Продолжим с примером блога, допустим в одном из постов есть прикольная картинка с котэ и она хостится на <code>/blog/img/amazing-cat.png</code>. Поскольку картинка очень крутая, другой пользователь захотел использовать ее у себя на сайте. Если, пользователь уже посещал ваш блог, и у него есть <code>cookie</code> <code>promo-shown</code>, то когда он захочет посмотреть на картику с котэ на другом сайте <code>cookie</code> будет прикреплен к запосу на получение картинки. Это определенно никому не нужно, т.к. <code>promo_shown</code> не используется на другом сайте, это излишняя нагрузка на запрос</p><p>Если это незапланированный эффект, зачем вам это делать? Существует механизм, позволяющий сайтам хранить
состояние, когда они используются в стороннем контексте. Например, вы добавили видео с YouTube на своем сайте. В плеере, посетитель увидит кнопку &quot;Посмотреть позже&quot;. Если ваш посетитель уже залогинен на YouTube, то его сессия доступна во встроенном плеере через сторонние <code>cookies</code>. Это значит, что кнопка &quot;Посмотреть позже&quot; просто сохранит видео, вместо запроса на логин или редиректа на YouTube.</p><div class="picture-module--container--3WJez"><div class="picture-module--image--3X5zU gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:54%"></div><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAC4jAAAuIwF4pT92AAABvElEQVQoz21S2Y7aMBTN/39K1beqlZDKNmUt2zATyAKUkMm+kMSJsePEdm06ajUVR/fBur5n8ZWVCtMob+NC1q2mWdUkOVX9yyfts+mHboRMB64PwPJv/hV7KQ5SLA5hVjctU14tePLAJShNB+guCjNcE35F1dRWAapxTRGhBWy8BHHOKGWkoZjQCjVughXThQiWBFV5UZ5DMSFmUEugE0HOMeNMNISJsOIf4V9rZbgHIx1MDDDcFetzJbq231scek96H6Y9TqWccAtzImXZXfx+kOSkbGMgKwJtDhtxpznfV854anfLeMApZIRbNrLfUFty2r7bVogmoFE+Zrkr53OajRlYs2LOW3TUo85yMVI38/HhFsgZXLe//FtREYX9ifFekszyn7xcCiYJv3Ha6Lo/syaj83i2NEjEXRB3jUlH3QzM9QNnls14MSXBV5Su5GK0224VGi+R+RzjkF+y4Ok0XrmLjjb/j3xHW3Fy5eKJd3ga3G897cVbfPHrhHvF9YdhTI/HjWU/Iv/LIYOEBjaX6a6fniZSzk2zreVoTjBU9Yfkv0uQoIQ3FW+g+CKy8xan/Vetu90Pnne/ASbIaJl8rno4AAAAAElFTkSuQmCC" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/dev-docs/static/e5215b70a70aecb2abd5140dd9508879/95f17/cross-site-cookie-request-header.png 150w,
/dev-docs/static/e5215b70a70aecb2abd5140dd9508879/37d5a/cross-site-cookie-request-header.png 300w,
/dev-docs/static/e5215b70a70aecb2abd5140dd9508879/8c332/cross-site-cookie-request-header.png 600w,
/dev-docs/static/e5215b70a70aecb2abd5140dd9508879/bc8e0/cross-site-cookie-request-header.png 800w" sizes="(max-width: 600px) 100vw, 600px" /><img loading="lazy" sizes="(max-width: 600px) 100vw, 600px" srcset="/dev-docs/static/e5215b70a70aecb2abd5140dd9508879/95f17/cross-site-cookie-request-header.png 150w,
/dev-docs/static/e5215b70a70aecb2abd5140dd9508879/37d5a/cross-site-cookie-request-header.png 300w,
/dev-docs/static/e5215b70a70aecb2abd5140dd9508879/8c332/cross-site-cookie-request-header.png 600w,
/dev-docs/static/e5215b70a70aecb2abd5140dd9508879/bc8e0/cross-site-cookie-request-header.png 800w" src="/dev-docs/static/e5215b70a70aecb2abd5140dd9508879/8c332/cross-site-cookie-request-header.png" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div class="picture-module--title--1HQUO">Сookie в стороннем контексте отправляются при посещении разных страниц.</div></div><p>Одна из традиционных особенностей веба в том, что веб, по умолчанию, привык быть открытым. Поэтому, так много людей могут создавать приложения и размещать контент. Однако, эта особенность приводит к появлению ряда проблем в безопасности и приватности данных пользователя. Атаки фальсификации межсайтовых запросов (CSRF - Cross-Site Request Forgery) основаны на том факте, что <code>cookies</code> прикрепляются к каждому запросу, в независимости от того, кто является инициатором запроса. Например, если вы зашли на <code>evil.example</code>, то он может сделать запрос на <code>your-blog.example</code> и ваш браузер спокойненько прикрепит соответствующие <code>cookies</code>. И если ваш блог не запотится о проверке запросов то <code>evil.example</code> может спровоцировать действия типа удаления постов, или размещения собственного контента. </p><p>Пользователи также становятся более уязвимыми, от того как <code>cookies</code> используются для отслеживания их активности по разным сайтам. Тем не менее, до сих пор, отсутствовал способ явно заявить о намерениях использования <code>cookies</code>. Ваш <code>cookie</code> <code>promo_shown</code> должен отправляться только в основном контексте, учитывая при этом <code>cookie</code> сессии для встраиваемых виджетов, которые позволяют хранить состояние авторизации других сайтов в стороннем контексте.  </p><h2>Объявляем об использовании <code>cookies</code> с аттрибутом <code>SameSite</code></h2><p>Включение аттрибута <code>SameSite</code> (определенного в RFC6265bis) позволяет вам определить: должен ли ваш <code>cookie</code> использоваться только в основном или <code>same-site</code> контексте. Полезно понимать что вообще здесь значит <code>site</code>. <code>Site</code> - сочетание суффикса домена и части домена перед ним. Например, <code>www.web.dev</code> домен - часть сайта <code>web.dev</code></p><p><strong>Ключевое понятие:</strong></p><p>Если пользователь находится на <code>www.web.dev</code> и запрашивает изображение с <code>static.web.dev</code> то это является <code>same-site</code> запросом.</p><p>Список суффиксов доменов определен здесь, так что это не только домены высшего уровня типа <code>.com</code>  но также и сервисы например <code>github.io</code>. Это позволяет считать <code>your-project.github.io</code> и <code>my-project.github.io</code> разными сайтами.</p><p><strong>Ключевое понятие:</strong></p><p>Если пользователь на <code>your-project.github.io</code> и запрашивает изображение с <code>my-project.github.io</code> то это
межсайтовый (cross-site) запрос.</p><p>Включение аттрибута <code>SameSite</code> в <code>cookie</code> предоставляет три возможных варианта управления поведением. Вы можете не определять аттрибут, либо использовать <code>Strict</code> или <code>Lax</code> для ограничения передачи <code>cookie</code>только на собственном сайте.</p><p>Если вы назначите <code>SameSite</code> значение <code>Strict</code>, ваш <code>cookie</code> будет пересылаться только в основном контексте. Для пользователя, это означает что <code>cookie</code> будет отправлен только сайту из адресной строки браузера. Так что, если <code>promo_shown</code> <code>cookie</code> будет определен следующим образом:</p><pre class="shiki" style="background-color:#0F111A"><code><span style="color:#FFCB6B">Set</span><span style="color:#C792EA">-</span><span style="color:#8F93A2">Cookie</span><span style="color:#FFFFFF">: </span><span style="color:#8F93A2">promo_shown</span><span style="color:#C792EA">=</span><span style="color:#F78C6C">1</span><span style="color:#89DDFF">;</span><span style="color:#FFFFFF"> </span><span style="color:#8F93A2">SameSite</span><span style="color:#C792EA">=</span><span style="color:#8F93A2">Strict</span></code></pre><p>Когда ваш пользователь находится у вас на сайте, <code>cookie</code> будет отправлен в запросе, как и ожидается. С другой стороны, когда пользователь пройдет по ссылке на ваш сайт, например, с другого сайта или из email от своего друга, в инициализирующем запросе <code>cookie</code> отправлен не будет. Это хорошо в том случае, если <code>cookies</code> относятся к функционалу за пределами начальной навигации, такому как смена пароля или создание заказа. Но, это слишком строго для <code>promo_shown</code>. Если ваш пользователь пройдет по ссылке на сайт, он бы хотел чтобы <code>cookie</code> был отправлен и, соответственно его выбор не смотреть промо сработал корректно. </p><p>Здесь нам поможет <code>SameSite=Lax</code>, разрешая отправлять <code>cookie</code> на верхнем уровне навигации. Давайте посетим страницу с постом о котэ, перейдя на нее с другого сайта по ссылке на оригинальный пост. Другой сайт может использовать фото котэ с вашего сайта напрямую и предоставить ссылку на оригинальный пост. </p><pre class="shiki" style="background-color:#0F111A"><code><span style="color:#89DDFF">&lt;</span><span style="color:#F07178">p</span><span style="color:#89DDFF">&gt;</span><span style="color:#FFFFFF">Look at this amazing cat!</span><span style="color:#89DDFF">&lt;/</span><span style="color:#F07178">p</span><span style="color:#89DDFF">&gt;</span>
<span style="color:#89DDFF">&lt;</span><span style="color:#F07178">img</span><span style="color:#89DDFF"> </span><span style="color:#FFCB6B">src</span><span style="color:#89DDFF">=</span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">https://blog.example/blog/img/amazing-cat.png</span><span style="color:#89DDFF">&quot;</span><span style="color:#89DDFF"> /&gt;</span>
<span style="color:#89DDFF">&lt;</span><span style="color:#F07178">p</span><span style="color:#89DDFF">&gt;</span><span style="color:#FFFFFF">Read the </span><span style="color:#89DDFF">&lt;</span><span style="color:#F07178">a</span><span style="color:#89DDFF"> </span><span style="color:#FFCB6B">href</span><span style="color:#89DDFF">=</span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">https://blog.example/blog/cat.html</span><span style="color:#89DDFF">&quot;</span><span style="color:#89DDFF">&gt;</span><span style="color:#FFFFFF">article</span><span style="color:#89DDFF">&lt;/</span><span style="color:#F07178">a</span><span style="color:#89DDFF">&gt;</span><span style="color:#FFFFFF">.</span><span style="color:#89DDFF">&lt;/</span><span style="color:#F07178">p</span><span style="color:#89DDFF">&gt;</span></code></pre><p>А <code>cookie</code> установлен следующим образом:</p><pre class="shiki" style="background-color:#0F111A"><code><span style="color:#FFCB6B">Set</span><span style="color:#C792EA">-</span><span style="color:#8F93A2">Cookie</span><span style="color:#FFFFFF">: </span><span style="color:#8F93A2">promo_shown</span><span style="color:#C792EA">=</span><span style="color:#F78C6C">1</span><span style="color:#89DDFF">;</span><span style="color:#FFFFFF"> </span><span style="color:#8F93A2">SameSite</span><span style="color:#C792EA">=</span><span style="color:#8F93A2">Lax</span></code></pre><p>Когда пользователь придет на другой сайт,<code>cookie</code> не будет прикреплен к запросу на получение <code>amazing-cat.png</code>. Однако при переходе по ссылке к оригинальному посту <code>cat.html</code> в вашем блоге, запрос будет включать <code>cookie</code>. Это делает <code>Lax</code> хорошим выбором для <code>cookies</code> влиящих на отображение, тогда как <code>Strict</code> полезен для <code>cookies</code>, которые относятся к действиям пользователя</p><p><strong>Предупреждение:</strong></p><p>Ни <code>Strict</code> ни <code>Lax</code> не являются полноценным решением для обеспечения безопасности сайта. <code>Cookies</code> отправляются как часть запросов пользователя и с ними нужно обращаться также как и с другими пользовательскими данными. Нужно следить за чистотой и корректностью передаваемых данных. Никогда не используйте <code>cookies</code> для хранения секретных данных со стороны сервера.</p><p>Наконец, есть вариант не определять значение, что подразумевает собой отправку <code>cookies</code> во всех конекстах. В последнем черновике спецификации RFC6265bis это можно сделать яно определив <code>SameSite=None</code>. Это означает что можно использовать <code>None</code> если вы намеренно хотите отправлять <code>cookies</code> сторонним сайтам.</p><div class="picture-module--container--3WJez"><div class="picture-module--image--3X5zU gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:57.333333333333336%"></div><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAC4jAAAuIwF4pT92AAABuklEQVQoz22SiW6jMBRF+f//GY2UVmqVCVlaknQSIAvBKUmxCZuJCWCDl0LT6ahRn64s+8pHb9HT1PeQstPn/ePEFB/P8GoKKUkp7sFgAp/ap1YymV4ELjpx8cnVjawYjwiLM6EfZj3wEGY1FwomDBNmw83y6HTw0isAJF5ANkfiIJrkdZgxlNIwowVtWCPfToF/OoaYtiQpuZLNaucDD9a81rawKMucVjk+5+ahxESODqbuD78aYZRVJQ1SFmDWdgIvbw/buXVaz9FM+7POxw6Z7Ii+IU9Ofs656W9GYCaEuDbZSIqyykEE4rJ13NRdomcQ25OjrqUXnuSdYsIr1gFRmAEvER/9E3Z59scjMO+thmYAWgek4AUabrya+hPtZto19YG/2cOtrMAVXqDZPrGtwPCy1w7GYIkMJzJ7Tu8/fB20Gwz6bn+4f4yDX23VhBULNHUiywrme7xvP+xS1/AnuqdbaH0DyzQxDuHgcOrXeKAUbzP/hcYuNu+3dyDtMjeiYbxu1S7E97KlUJelyqeqeJHpo5J12bBVZNuRtQhs8bU9/+IGlvI8V+dxffpdoburJ6TgUqif4h2YNWfgc3MkhAAAAABJRU5ErkJggg==" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/dev-docs/static/a9cacfdb8f4c1a54c553ac7dba4befab/95f17/samesite-none-lax-strict.png 150w,
/dev-docs/static/a9cacfdb8f4c1a54c553ac7dba4befab/37d5a/samesite-none-lax-strict.png 300w,
/dev-docs/static/a9cacfdb8f4c1a54c553ac7dba4befab/8c332/samesite-none-lax-strict.png 600w,
/dev-docs/static/a9cacfdb8f4c1a54c553ac7dba4befab/bc8e0/samesite-none-lax-strict.png 800w" sizes="(max-width: 600px) 100vw, 600px" /><img loading="lazy" sizes="(max-width: 600px) 100vw, 600px" srcset="/dev-docs/static/a9cacfdb8f4c1a54c553ac7dba4befab/95f17/samesite-none-lax-strict.png 150w,
/dev-docs/static/a9cacfdb8f4c1a54c553ac7dba4befab/37d5a/samesite-none-lax-strict.png 300w,
/dev-docs/static/a9cacfdb8f4c1a54c553ac7dba4befab/8c332/samesite-none-lax-strict.png 600w,
/dev-docs/static/a9cacfdb8f4c1a54c553ac7dba4befab/bc8e0/samesite-none-lax-strict.png 800w" src="/dev-docs/static/a9cacfdb8f4c1a54c553ac7dba4befab/8c332/samesite-none-lax-strict.png" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div class="picture-module--title--1HQUO">Определяйте контекст использования cookie явно, через: None, Lax, или Strict.</div></div><p>Если вы предоставляете сервис, которые другие сайты добавляют как виджет, встраиваемое содержимое, рекламу, или вам необходимо поодержка авторизации на разных сайтах, необходимо использовать <code>None</code>, чтобы ваши намерения были ясны.</p><h2>Изменения в стандартном поведении без SameSite</h2><p>Несмотря на то, что аттрибут <code>SameSite</code> широко поддерживается, он, к сожалению, мало используется разработчиками. По умолчанию, такое открытое поведение при отправке <code>cookies</code>, позволит во всех случаях их использовать, но при этом сделает пользователя уязвимым для CSRF атак и непредвиденных утечек личной информации. Чтобы обязать разработчиков явно заявлять о намерениях при использовании <code>cookies</code> и предоставлять пользователям более безопасные приложения, Инженерный Совет Интернета (IETF - Internet Engineering Task Force) предложил улучшение работы с <code>cookies</code> с двумя изменениями:</p><ul><li><p><strong><code>Cookies</code> без аттрибута <code>SameSite</code> трактуются как: <code>SameSite=Lax</code>.</strong></p></li><li><p><strong><code>Cookies</code> с аттрибутом <code>SameSite=None</code> должны также содержать аттрибут <code>Secure</code>, и передаваться только по защищенному протоколу.</strong></p></li></ul><p>Chrome добавил эти изменения начиная с версии 84. В Firefox они тестируются с версии 69 и в дальнейшем будут активны по умолчанию. Чтобы протестировать эти изменения в Firefox, откройте <code>about:config</code> и включите опцию <code>network.cookie.sameSite.laxByDefault</code>. Edge также планирует изменить свое стандартное поведение.</p><h2><code>SameSite=Lax</code> по умолчанию</h2><p>Аттрибут не выбран:</p><pre class="shiki" style="background-color:#0F111A"><code><span style="color:#FFCB6B">Set</span><span style="color:#C792EA">-</span><span style="color:#8F93A2">Cookie</span><span style="color:#FFFFFF">: </span><span style="color:#8F93A2">promo_shown</span><span style="color:#C792EA">=</span><span style="color:#F78C6C">1</span></code></pre><p>Если вы отправите <code>cookie</code> без аттрибута <code>SameSite</code>…</p><p>Применится стандартное поведение:</p><pre class="shiki" style="background-color:#0F111A"><code><span style="color:#FFCB6B">Set</span><span style="color:#C792EA">-</span><span style="color:#8F93A2">Cookie</span><span style="color:#FFFFFF">: </span><span style="color:#8F93A2">promo_shown</span><span style="color:#C792EA">=</span><span style="color:#F78C6C">1</span><span style="color:#89DDFF">;</span><span style="color:#FFFFFF"> </span><span style="color:#8F93A2">SameSite</span><span style="color:#C792EA">=</span><span style="color:#8F93A2">Lax</span></code></pre><p>Браузер будет работать с <code>cookie</code> как при <code>SameSite=Lax</code>.</p><p>Даже несмотря на то что теперь предоставляется более безопасное поведение по умолчанию, вам лучше явно определить <code>SameSite</code>, чем предоставить это решение браузеру. Это сделает ваши намерения в отношении <code>cookie</code> прозрачными и улучшит кросс-браузерную поддержку.</p><p><strong>Внимание:</strong></p><p>Стандартное поведение Chrome чуть менее строгое чем явный <code>SameSite=Lax</code>, поскольку разрешена отправка некоторых <code>cookies</code> для POST запросов верхнего уровня. Подробнее об этом можно узнать здесь. Это временное снижение ограничений, если вам нужно передавать <code>cookies</code> сторонним сайтам, необходимо использовать: <code>SameSite=None; Secure</code>.</p><h2><code>SameSite=None</code> должны быть безопасными</h2><p>Отклонено:</p><pre class="shiki" style="background-color:#0F111A"><code><span style="color:#FFCB6B">Set</span><span style="color:#C792EA">-</span><span style="color:#8F93A2">Cookie</span><span style="color:#FFFFFF">: </span><span style="color:#8F93A2">widget_session</span><span style="color:#C792EA">=</span><span style="color:#8F93A2">abc123</span><span style="color:#89DDFF">;</span><span style="color:#FFFFFF"> </span><span style="color:#8F93A2">SameSite</span><span style="color:#C792EA">=</span><span style="color:#8F93A2">None</span></code></pre><p>Назначение <code>cookie</code> без <code>Secure</code> будет отклонено.</p><p>Принято:</p><pre class="shiki" style="background-color:#0F111A"><code><span style="color:#FFCB6B">Set</span><span style="color:#C792EA">-</span><span style="color:#8F93A2">Cookie</span><span style="color:#FFFFFF">: </span><span style="color:#8F93A2">widget_session</span><span style="color:#C792EA">=</span><span style="color:#8F93A2">abc123</span><span style="color:#89DDFF">;</span><span style="color:#FFFFFF"> </span><span style="color:#8F93A2">SameSite</span><span style="color:#C792EA">=</span><span style="color:#8F93A2">None</span><span style="color:#89DDFF">;</span><span style="color:#FFFFFF"> </span><span style="color:#8F93A2">Secure</span></code></pre><p>Вы должны быть уверены что аттрибут <code>SameSite=None</code> используется в паре с аттрибутом <code>Secure</code>.</p><p>Вы можете протестировать это поведение с версии Chrome 76 включив <code>chrome://flags/#cookies-without-same-site-must-be-secure</code> и в Firefox 69 в <code>about:config</code>, установив <code>network.cookie.sameSite.noneRequiresSecure</code>.</p><p>Вам нужно их применить, когда вы устанавливаете новые <code>cookies</code> и активно обновляете существующие <code>cookies</code> даже если не истек их срок действия.</p><p>Если вы зависите от сервисов, которые предоставляют сторонний контент на вашем сайте, вы также должны следить за тем что они обновляют свое поведение. Вам необходимо обновлять зависимости,чтобы быть уверенным, что ваш сайт поддерживает новое поведение.</p><p>Оба этих изменения обратно-совместимы с браузерами, которые корректно воспроизводят предыдущую версию аттрибута <code>SameSite</code> или вообще ее не поддерживают. Аналогично, любые клиенты не поддерживающие <code>SameSite=None</code> до сих пор, должны игнорировать его и обрабатывать таким образом, как будто этот аттрибут не задан.</p><p>Предупреждение:</p><p>Определенное число старых версий браузеров Chrome, Safari, и UC несовместимы с новым значением <code>None</code> и могут игнорировать или отклонять <code>cookie</code>. Это поведение исправлено в текущих версиях, но необходимо проверить соотношение пользователей использующих старые версии. Список неподдерживаемых клиентов можно найти на сайте Chromium.</p><p>Огромное спасибо за участие и обратную связь Lily Chen, Malte Ubl, Mike West, Rob Dodson, Tom Steiner, и Vivek Sekhar</p></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/same-cookies/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-f0861f42ccabb2042c53.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-bb3ad0b99a974ed8e0e8.js"],"component---src-templates-tags-js":["/component---src-templates-tags-js-5bec1f9841cc8dc4177a.js"],"component---src-pages-404-js":["/component---src-pages-404-js-0f18f9d5e606cde0fe69.js"],"component---src-pages-about-js":["/component---src-pages-about-js-797af82ae0868ae18b37.js"],"component---src-pages-index-js":["/component---src-pages-index-js-c4627af1dbe755b9fe5a.js"],"component---src-pages-tags-js":["/component---src-pages-tags-js-9a1c5ecbd958913ab2f1.js"],"component---src-pages-posts-4-ways-working-with-react-state-md":["/component---src-pages-posts-4-ways-working-with-react-state-md-d93541f8d506cd897422.js"],"component---src-pages-posts-redux-immutable-js-mdx":["/component---src-pages-posts-redux-immutable-js-mdx-9d2a4a33b763deb10374.js"],"component---src-pages-posts-redux-routing-md":["/component---src-pages-posts-redux-routing-md-1fbb32d057babbdbdde5.js"],"component---src-pages-posts-same-cookies-mdx":["/component---src-pages-posts-same-cookies-mdx-3bea937819180b42fbf1.js"],"component---src-pages-posts-typescript-with-babel-mdx":["/component---src-pages-posts-typescript-with-babel-mdx-b22325feac8575474a40.js"],"component---src-pages-posts-understanding-passport-js-md":["/component---src-pages-posts-understanding-passport-js-md-3c91712bb8a7bde748ab.js"],"component---src-pages-posts-ydkjs-scope-closures-md":["/component---src-pages-posts-ydkjs-scope-closures-md-be25e2303a4582ed3f01.js"],"component---src-pages-posts-you-dont-know-js-types-md":["/component---src-pages-posts-you-dont-know-js-types-md-26caca88885a77a37dc1.js"]};/*]]>*/</script><script src="/dev-docs/component---src-pages-posts-same-cookies-mdx-3bea937819180b42fbf1.js" async=""></script><script src="/dev-docs/app-f0861f42ccabb2042c53.js" async=""></script><script src="/dev-docs/commons-219ea28c1c39fae67d6f.js" async=""></script><script src="/dev-docs/styles-100c2e69dd6ded49ffbe.js" async=""></script><script src="/dev-docs/webpack-runtime-7a80ca71d8fed2e8c7eb.js" async=""></script></body></html>