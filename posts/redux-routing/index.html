<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/dev-docs/styles.a1f860734b5f5ddaace0.css">@font-face{font-family:octicons-link;src:url(data:font/woff;charset=utf-8;base64,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) format("woff")}.markdown-body .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.markdown-body .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}.markdown-body .anchor:focus{outline:none}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;color:#24292e;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body .pl-c{color:#6a737d}.markdown-body .pl-c1,.markdown-body .pl-s .pl-v{color:#005cc5}.markdown-body .pl-e,.markdown-body .pl-en{color:#6f42c1}.markdown-body .pl-s .pl-s1,.markdown-body .pl-smi{color:#24292e}.markdown-body .pl-ent{color:#22863a}.markdown-body .pl-k{color:#d73a49}.markdown-body .pl-pds,.markdown-body .pl-s,.markdown-body .pl-s .pl-pse .pl-s1,.markdown-body .pl-sr,.markdown-body .pl-sr .pl-cce,.markdown-body .pl-sr .pl-sra,.markdown-body .pl-sr .pl-sre{color:#032f62}.markdown-body .pl-smw,.markdown-body .pl-v{color:#e36209}.markdown-body .pl-bu{color:#b31d28}.markdown-body .pl-ii{background-color:#b31d28;color:#fafbfc}.markdown-body .pl-c2{background-color:#d73a49;color:#fafbfc}.markdown-body .pl-c2:before{content:"^M"}.markdown-body .pl-sr .pl-cce{color:#22863a;font-weight:700}.markdown-body .pl-ml{color:#735c0f}.markdown-body .pl-mh,.markdown-body .pl-mh .pl-en,.markdown-body .pl-ms{color:#005cc5;font-weight:700}.markdown-body .pl-mi{color:#24292e;font-style:italic}.markdown-body .pl-mb{color:#24292e;font-weight:700}.markdown-body .pl-md{background-color:#ffeef0;color:#b31d28}.markdown-body .pl-mi1{background-color:#f0fff4;color:#22863a}.markdown-body .pl-mc{background-color:#ffebda;color:#e36209}.markdown-body .pl-mi2{background-color:#005cc5;color:#f6f8fa}.markdown-body .pl-mdr{color:#6f42c1;font-weight:700}.markdown-body .pl-ba{color:#586069}.markdown-body .pl-sg{color:#959da5}.markdown-body .pl-corl{color:#032f62;text-decoration:underline}.markdown-body details{display:block}.markdown-body summary{display:list-item}.markdown-body a{background-color:transparent}.markdown-body a:active,.markdown-body a:hover{outline-width:0}.markdown-body strong{font-weight:inherit;font-weight:bolder}.markdown-body h1{margin:.67em 0}.markdown-body img{border-style:none}.markdown-body code,.markdown-body kbd,.markdown-body pre{font-family:monospace,monospace;font-size:1em}.markdown-body hr{box-sizing:content-box;overflow:visible}.markdown-body input{font:inherit;margin:0;overflow:visible}.markdown-body [type=checkbox]{box-sizing:border-box;padding:0}.markdown-body *{box-sizing:border-box}.markdown-body input{font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body a{color:#0366d6;text-decoration:none}.markdown-body a:hover{text-decoration:underline}.markdown-body strong{font-weight:600}.markdown-body hr{background:transparent;border-bottom:1px solid #dfe2e5;height:0;margin:15px 0;overflow:hidden}.markdown-body hr:after,.markdown-body hr:before{content:"";display:table}.markdown-body hr:after{clear:both}.markdown-body table{border-collapse:collapse;border-spacing:0}.markdown-body td,.markdown-body th{padding:0}.markdown-body details summary{cursor:pointer}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-bottom:0;margin-top:0}.markdown-body h1{font-size:32px}.markdown-body h1,.markdown-body h2{font-weight:600}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:20px}.markdown-body h3,.markdown-body h4{font-weight:600}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:14px}.markdown-body h5,.markdown-body h6{font-weight:600}.markdown-body h6{font-size:12px}.markdown-body p{margin-bottom:10px;margin-top:0}.markdown-body blockquote{margin:0}.markdown-body ol,.markdown-body ul{margin-bottom:0;margin-top:0;padding-left:0}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ol ol ol,.markdown-body ol ul ol,.markdown-body ul ol ol,.markdown-body ul ul ol{list-style-type:lower-alpha}.markdown-body dd{margin-left:0}.markdown-body code,.markdown-body pre{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px}.markdown-body pre{margin-bottom:0;margin-top:0}.markdown-body input::-webkit-inner-spin-button,.markdown-body input::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}.markdown-body .border{border:1px solid #e1e4e8!important}.markdown-body .border-0{border:0!important}.markdown-body .border-bottom{border-bottom:1px solid #e1e4e8!important}.markdown-body .rounded-1{border-radius:3px!important}.markdown-body .bg-white{background-color:#fff!important}.markdown-body .bg-gray-light{background-color:#fafbfc!important}.markdown-body .text-gray-light{color:#6a737d!important}.markdown-body .mb-0{margin-bottom:0!important}.markdown-body .my-2{margin-bottom:8px!important;margin-top:8px!important}.markdown-body .py-0{padding-bottom:0!important;padding-top:0!important}.markdown-body .py-2{padding-bottom:8px!important;padding-top:8px!important}.markdown-body .pl-3,.markdown-body .px-3{padding-left:16px!important}.markdown-body .px-3{padding-right:16px!important}.markdown-body .f6{font-size:12px!important}.markdown-body .lh-condensed{line-height:1.25!important}.markdown-body .text-bold{font-weight:600!important}.markdown-body:after,.markdown-body:before{content:"";display:table}.markdown-body:after{clear:both}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-bottom:16px;margin-top:0}.markdown-body hr{background-color:#e1e4e8;border:0;height:.25em;margin:24px 0;padding:0}.markdown-body blockquote{border-left:.25em solid #dfe2e5;color:#6a737d;padding:0 1em}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body kbd{border:1px solid #c6cbd1;border-bottom-color:#959da5;box-shadow:inset 0 -1px 0 #959da5;font-size:11px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:600;line-height:1.25;margin-bottom:16px;margin-top:24px}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{border-bottom:1px solid #eaecef;padding-bottom:.3em}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{color:#6a737d;font-size:.85em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-bottom:0;margin-top:0}.markdown-body li{word-wrap:break-all}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{font-size:1em;font-style:italic;font-weight:600;margin-top:16px;padding:0}.markdown-body dl dd{margin-bottom:16px;padding:0 16px}.markdown-body table{display:block;overflow:auto;width:100%}.markdown-body table th{font-weight:600}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:6px 13px}.markdown-body table tr{background-color:#fff;border-top:1px solid #c6cbd1}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body img{background-color:#fff;box-sizing:content-box;max-width:100%}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body code{background-color:rgba(27,31,35,.05);border-radius:3px;font-size:85%;margin:0;padding:.2em .4em}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{background:transparent;border:0;font-size:100%;margin:0;padding:0;white-space:pre;word-break:normal}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{background-color:#f6f8fa;border-radius:3px;font-size:85%;line-height:1.45;overflow:auto;padding:16px}.markdown-body pre code{background-color:transparent;border:0;display:inline;line-height:inherit;margin:0;max-width:auto;overflow:visible;padding:0;word-wrap:normal}.markdown-body .commit-tease-sha{color:#444d56;display:inline-block;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:90%}.markdown-body .blob-wrapper{border-bottom-left-radius:3px;border-bottom-right-radius:3px;overflow-x:auto;overflow-y:hidden}.markdown-body .blob-wrapper-embedded{max-height:240px;overflow-y:auto}.markdown-body .blob-num{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;color:rgba(27,31,35,.3);cursor:pointer;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px;line-height:20px;min-width:50px;padding-left:10px;padding-right:10px;text-align:right;user-select:none;vertical-align:top;white-space:nowrap;width:1%}.markdown-body .blob-num:hover{color:rgba(27,31,35,.6)}.markdown-body .blob-num:before{content:attr(data-line-number)}.markdown-body .blob-code{line-height:20px;padding-left:10px;padding-right:10px;position:relative;vertical-align:top}.markdown-body .blob-code-inner{color:#24292e;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px;overflow:visible;white-space:pre;word-wrap:normal}.markdown-body .pl-token.active,.markdown-body .pl-token:hover{background:#ffea7f;cursor:pointer}.markdown-body kbd{background-color:#fafbfc;border:1px solid #d1d5da;border-bottom-color:#c6cbd1;border-radius:3px;box-shadow:inset 0 -1px 0 #c6cbd1;color:#444d56;display:inline-block;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;line-height:10px;padding:3px 5px;vertical-align:middle}.markdown-body :checked+.radio-label{border-color:#0366d6;position:relative;z-index:1}.markdown-body .tab-size[data-tab-size="1"]{-moz-tab-size:1;-o-tab-size:1;tab-size:1}.markdown-body .tab-size[data-tab-size="2"]{-moz-tab-size:2;-o-tab-size:2;tab-size:2}.markdown-body .tab-size[data-tab-size="3"]{-moz-tab-size:3;-o-tab-size:3;tab-size:3}.markdown-body .tab-size[data-tab-size="4"]{-moz-tab-size:4;-o-tab-size:4;tab-size:4}.markdown-body .tab-size[data-tab-size="5"]{-moz-tab-size:5;-o-tab-size:5;tab-size:5}.markdown-body .tab-size[data-tab-size="6"]{-moz-tab-size:6;-o-tab-size:6;tab-size:6}.markdown-body .tab-size[data-tab-size="7"]{-moz-tab-size:7;-o-tab-size:7;tab-size:7}.markdown-body .tab-size[data-tab-size="8"]{-moz-tab-size:8;-o-tab-size:8;tab-size:8}.markdown-body .tab-size[data-tab-size="9"]{-moz-tab-size:9;-o-tab-size:9;tab-size:9}.markdown-body .tab-size[data-tab-size="10"]{-moz-tab-size:10;-o-tab-size:10;tab-size:10}.markdown-body .tab-size[data-tab-size="11"]{-moz-tab-size:11;-o-tab-size:11;tab-size:11}.markdown-body .tab-size[data-tab-size="12"]{-moz-tab-size:12;-o-tab-size:12;tab-size:12}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item+.task-list-item{margin-top:3px}.markdown-body .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}.markdown-body hr{border-bottom-color:#eee}.markdown-body .pl-0{padding-left:0!important}.markdown-body .pl-1{padding-left:4px!important}.markdown-body .pl-2{padding-left:8px!important}.markdown-body .pl-3{padding-left:16px!important}.markdown-body .pl-4{padding-left:24px!important}.markdown-body .pl-5{padding-left:32px!important}.markdown-body .pl-6{padding-left:40px!important}.markdown-body .pl-7{padding-left:48px!important}.markdown-body .pl-8{padding-left:64px!important}.markdown-body .pl-9{padding-left:80px!important}.markdown-body .pl-10{padding-left:96px!important}.markdown-body .pl-11{padding-left:112px!important}.markdown-body .pl-12{padding-left:128px!important}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}@media screen and (min-width:640px){.post-module--post--3ESLj{padding:5px .5rem}}@media screen and (min-width:900px){.post-module--post--3ESLj{padding:5px 2rem}}body,html{margin:0;padding:0}.layout-module--layout--mFaKB{height:100vh;margin:0 auto;padding:0}.layout-module--content--3nIku{margin:0 auto;padding:0 .5rem;height:80%;justify-content:space-between}.layout-module--content--3nIku,.layout-module--content__posts--2-sLb{display:flex;flex-flow:column nowrap}@media screen and (min-width:1280px){.layout-module--content--3nIku{padding:0 20rem}}@media screen and (min-width:900px){.layout-module--content--3nIku{padding:0 15rem}}.header-module--header--3A712{padding:0 2rem}.header-module--nav--2TcPd{width:100%;display:flex;flex-flow:row wrap;justify-content:flex-end;align-items:center}.header-module--nav__item--3vKbG{margin:5px 10px}</style><meta name="generator" content="Gatsby 2.18.12"/><title data-react-helmet="true"></title><link as="script" rel="preload" href="/dev-docs/webpack-runtime-9806718077849401d73a.js"/><link as="script" rel="preload" href="/dev-docs/styles-3251c89baff59e4ed99c.js"/><link as="script" rel="preload" href="/dev-docs/commons-219ea28c1c39fae67d6f.js"/><link as="script" rel="preload" href="/dev-docs/app-ba4dea94da6c9c498fb8.js"/><link as="script" rel="preload" href="/dev-docs/component---src-pages-posts-redux-routing-md-29632a5f8af9b911cd6c.js"/><link as="fetch" rel="preload" href="/dev-docs/page-data/posts/redux-routing/page-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><h1>Покоряем управление навигацией с React-router и Redux :rocket:</h1><p>Основной компонент общий для традиционных приложений и SPA это навигация от одной страницы к другой.</p><p>В этой статье мы рассмотрим как собрать навигацию для React/Redux приложений и посмотрим как поддерживать состояние при переходах по навигации.</p><h2>Приложение с которым мы собираемся работать</h2><p>Чтобы разобраться с навигацией я создал небольшое простое приложение EmojiLand</p><p>EmojiLand простое приложение, но достаточно хорошее, чтобы переварить те мысли, которыми я поделюсь в этой статье.</p><p>Заметьте, что приложение остается на выбранном маршруте, но, когда будет нажата кнопка, оно выполнит какой-то фальшивый <code>action</code> и, по его завершении перейдет на другой маршрут.</p><p>В реальном мире, это фальшивое действие может быть запросом на какой-нибудь ресурс или любое другое асинхронное действие.</p><h2>Краткий обзор EmojiLand</h2><p>Клонируем репозиторий с GitHub</p><p><code>git clone https://github.com/ohansemmanuel/nav-state-react-router.git</code></p><p>Переходим в директорию репозитория: </p><p><code>cd nav-state-react-router</code></p><p>Устанавливаем зависимости: </p><p><code>yarn install</code>
или
<code>npm install</code></p><p>Запускаем приложение:</p><p><code>yarn start</code>
или
<code>npm start</code></p><p>Приложение построено на базе <code>react</code> и <code>redux</code> а также <code>react-router</code></p><p>В <code>containers/App.js</code> вы найдете 6 маршрутов этого приложения.</p><pre class="shiki" style="background-color:#0F111A"><code><span style="color:#C792EA">const</span><span style="color:#FFFFFF"> </span><span style="color:#82AAFF">App</span><span style="color:#FFFFFF"> </span><span style="color:#C792EA">=</span><span style="color:#FFFFFF"> </span><span style="color:#89DDFF">()</span><span style="color:#FFFFFF"> </span><span style="color:#C792EA">=&gt;</span><span style="color:#FFFFFF"> (</span>
<span style="color:#FFFFFF">  </span><span style="color:#89DDFF">&lt;</span><span style="color:#F07178">Router</span><span style="color:#89DDFF">&gt;</span>
<span style="color:#89DDFF">    &lt;</span><span style="color:#F07178">Switch</span><span style="color:#89DDFF">&gt;</span>
<span style="color:#89DDFF">      &lt;</span><span style="color:#F07178">Route</span><span style="color:#89DDFF"> </span><span style="color:#C792EA">exact</span><span style="color:#89DDFF"> </span><span style="color:#C792EA">path=</span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">/</span><span style="color:#89DDFF">&quot;</span><span style="color:#89DDFF"> </span><span style="color:#C792EA">component=</span><span style="color:#89DDFF">{</span><span style="color:#8F93A2">AngryDude</span><span style="color:#89DDFF">} /&gt;</span>
<span style="color:#89DDFF">      &lt;</span><span style="color:#F07178">Route</span><span style="color:#89DDFF"> </span><span style="color:#C792EA">path=</span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">/quiet</span><span style="color:#89DDFF">&quot;</span><span style="color:#89DDFF"> </span><span style="color:#C792EA">component=</span><span style="color:#89DDFF">{</span><span style="color:#8F93A2">KeepQuiet</span><span style="color:#89DDFF">} /&gt;</span>
<span style="color:#89DDFF">      &lt;</span><span style="color:#F07178">Route</span><span style="color:#89DDFF"> </span><span style="color:#C792EA">path=</span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">/smile</span><span style="color:#89DDFF">&quot;</span><span style="color:#89DDFF"> </span><span style="color:#C792EA">component=</span><span style="color:#89DDFF">{</span><span style="color:#8F93A2">SmileLady</span><span style="color:#89DDFF">} /&gt;</span>
<span style="color:#89DDFF">      &lt;</span><span style="color:#F07178">Route</span><span style="color:#89DDFF"> </span><span style="color:#C792EA">path=</span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">/think</span><span style="color:#89DDFF">&quot;</span><span style="color:#89DDFF"> </span><span style="color:#C792EA">component=</span><span style="color:#89DDFF">{</span><span style="color:#8F93A2">ThinkHard</span><span style="color:#89DDFF">} /&gt;</span>
<span style="color:#89DDFF">      &lt;</span><span style="color:#F07178">Route</span><span style="color:#89DDFF"> </span><span style="color:#C792EA">path=</span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">/thumbs</span><span style="color:#89DDFF">&quot;</span><span style="color:#89DDFF"> </span><span style="color:#C792EA">component=</span><span style="color:#89DDFF">{</span><span style="color:#8F93A2">ThumbsUp</span><span style="color:#89DDFF">} /&gt;</span>
<span style="color:#89DDFF">      &lt;</span><span style="color:#F07178">Route</span><span style="color:#89DDFF"> </span><span style="color:#C792EA">path=</span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">/excited</span><span style="color:#89DDFF">&quot;</span><span style="color:#89DDFF"> </span><span style="color:#C792EA">component=</span><span style="color:#89DDFF">{</span><span style="color:#8F93A2">BeExcited</span><span style="color:#89DDFF">} /&gt;</span>
<span style="color:#89DDFF">    &lt;/</span><span style="color:#F07178">Switch</span><span style="color:#89DDFF">&gt;</span>
<span style="color:#89DDFF">  &lt;/</span><span style="color:#F07178">Router</span><span style="color:#89DDFF">&gt;</span>
<span style="color:#FFFFFF">)</span><span style="color:#89DDFF">;</span></code></pre><p>Каждый маршрут ведет к emoji компоненту. <code>/quiet</code> например отобразит компонент <code>KeepQuiet</code>.</p><p>А вот как выглядит компонент <code>KeepQuiet</code>:</p><pre class="shiki" style="background-color:#0F111A"><code><span style="color:#89DDFF">import</span><span style="color:#FFFFFF"> </span><span style="color:#8F93A2">React</span><span style="color:#FFFFFF"> </span><span style="color:#89DDFF">from</span><span style="color:#FFFFFF"> </span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">react</span><span style="color:#89DDFF">&quot;</span><span style="color:#89DDFF">;</span>
<span style="color:#89DDFF">import</span><span style="color:#FFFFFF"> </span><span style="color:#8F93A2">EmojiLand</span><span style="color:#FFFFFF"> </span><span style="color:#89DDFF">from</span><span style="color:#FFFFFF"> </span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">../components/EmojiLand</span><span style="color:#89DDFF">&quot;</span><span style="color:#89DDFF">;</span>
<span style="color:#89DDFF">import</span><span style="color:#FFFFFF"> </span><span style="color:#8F93A2">keepQuietImg</span><span style="color:#FFFFFF"> </span><span style="color:#89DDFF">from</span><span style="color:#FFFFFF"> </span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">../Images/keepquiet.png</span><span style="color:#89DDFF">&quot;</span><span style="color:#89DDFF">;</span>
<span style="color:#89DDFF">import</span><span style="color:#FFFFFF"> </span><span style="color:#8F93A2">emojiLand</span><span style="color:#FFFFFF"> </span><span style="color:#89DDFF">from</span><span style="color:#FFFFFF"> </span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">./emojiLand</span><span style="color:#89DDFF">&quot;</span><span style="color:#89DDFF">;</span>
<span style="color:#C792EA">const</span><span style="color:#FFFFFF"> </span><span style="color:#82AAFF">KeepQuiet</span><span style="color:#FFFFFF"> </span><span style="color:#C792EA">=</span><span style="color:#FFFFFF"> </span><span style="color:#89DDFF">({</span><span style="color:#FFFFFF"> </span><span style="color:#FF5370">appState</span><span style="color:#89DDFF">,</span><span style="color:#FFFFFF"> </span><span style="color:#FF5370">handleEmojiAction</span><span style="color:#FFFFFF"> </span><span style="color:#89DDFF">})</span><span style="color:#FFFFFF"> </span><span style="color:#C792EA">=&gt;</span><span style="color:#FFFFFF"> (</span>
<span style="color:#FFFFFF">    </span><span style="color:#89DDFF">&lt;</span><span style="color:#F07178">EmojiLand</span>
<span style="color:#89DDFF">      </span><span style="color:#C792EA">EmojiBg=</span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">linear-gradient(120deg, #a6c0fe 0%, #f68084 100%)</span><span style="color:#89DDFF">&quot;</span>
<span style="color:#89DDFF">      </span><span style="color:#C792EA">EmojiImg=</span><span style="color:#89DDFF">{</span><span style="color:#8F93A2">keepQuietImg</span><span style="color:#89DDFF">}</span>
<span style="color:#89DDFF">      </span><span style="color:#C792EA">EmojiBtnText=</span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">Keep Calm and Stay Quiet.</span><span style="color:#89DDFF">&quot;</span>
<span style="color:#89DDFF">      </span><span style="color:#C792EA">HandleEmojiAction=</span><span style="color:#89DDFF">{</span><span style="color:#8F93A2">handleEmojiAction</span><span style="color:#89DDFF">}</span>
<span style="color:#89DDFF">      </span><span style="color:#C792EA">appState=</span><span style="color:#89DDFF">{</span><span style="color:#8F93A2">appState</span><span style="color:#89DDFF">}</span>
<span style="color:#89DDFF">    /&gt;</span>
<span style="color:#FFFFFF">  )</span><span style="color:#89DDFF">;</span>
<span style="color:#89DDFF">export</span><span style="color:#FFFFFF"> </span><span style="color:#89DDFF">default</span><span style="color:#FFFFFF"> </span><span style="color:#82AAFF">emojiLand</span><span style="color:#FFFFFF">(</span><span style="color:#8F93A2">KeepQuiet</span><span style="color:#FFFFFF">)</span><span style="color:#89DDFF">;</span></code></pre><p>Это простой функциональный компонент который отображает EmojiLand компонент</p><p>Важно то, что EmojiLand принимает несколько свойств таких как фоновый градиент, изображение, и текст кнопки</p><p>Более деликатным является экспортируемый компонент</p><pre class="shiki" style="background-color:#0F111A"><code><span style="color:#89DDFF">export</span><span style="color:#FFFFFF"> </span><span style="color:#89DDFF">default</span><span style="color:#FFFFFF"> </span><span style="color:#82AAFF">emojiLand</span><span style="color:#FFFFFF">(</span><span style="color:#8F93A2">KeepQuiet</span><span style="color:#FFFFFF">)</span><span style="color:#89DDFF">;</span></code></pre><p><code>emojiLand</code> здесь это компонент высокого порядка. Все что он делает, это когда вы кликаете на кнопку любого из emoji компонентов, симулируется фейковое действие на 1000мс, на практике это может быть сетевой запрос.</p><p><code>emojiLand</code> компонент высшего порядка делает это передачей свойств <code>appState</code> emoji компонентам. В нашем случае, <code>KeepQuiet</code></p><p>Когда любой из компонентов <code>emoji</code> впервые отрендерится, <code>appState</code> пустая строка, <code>&quot;&quot;</code>. После <code>1000мс</code>, <code>appState</code> изменится на <code>DO_SOMETHING_OVER</code></p><p><code>DO_SOMETHING_OVER</code> представлено как константа:</p><p>В <code>constants/action-types</code>:</p><pre class="shiki" style="background-color:#0F111A"><code><span style="color:#89DDFF">export</span><span style="color:#FFFFFF"> </span><span style="color:#C792EA">const</span><span style="color:#FFFFFF"> </span><span style="color:#8F93A2">DO_SOMETHING_OVER</span><span style="color:#FFFFFF"> </span><span style="color:#C792EA">=</span><span style="color:#FFFFFF"> </span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">DO_SOMETHING_OVER</span><span style="color:#89DDFF">&quot;</span><span style="color:#89DDFF">;</span></code></pre><p>Примерно так работает каждый <code>emoji</code> компонент в этом приложении.
Также помните, что каждый маршрут это отдельный рендеринг EmojiLand компонента</p><h2>Перемещайся по React приложению как чемпион</h2><p>Допустим по завершению ложного действия мы хотим перейти на другой маршрут приложенния EmojiLand</p><p>Как это сделать?</p><p>Во-первых, помним что при переходе на стартовый маршрут будет отображен компонент <code>theAngryDude</code></p><p>Наиболее декларативный подход для поддержки перемещения это использование компонента <code>Redirect</code> из <code>React-router</code></p><p>Раз мы хотим переместится из компонента <code>AngryDude</code>, сначала, импортируем его в <code>containers/AngryDude.js</code>:</p><pre class="shiki" style="background-color:#0F111A"><code><span style="color:#89DDFF">import</span><span style="color:#FFFFFF"> </span><span style="color:#89DDFF">{</span><span style="color:#FFFFFF"> </span><span style="color:#8F93A2">Redirect</span><span style="color:#FFFFFF"> </span><span style="color:#89DDFF">}</span><span style="color:#FFFFFF"> </span><span style="color:#89DDFF">from</span><span style="color:#FFFFFF"> </span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">react-router-dom</span><span style="color:#89DDFF">&quot;</span><span style="color:#89DDFF">;</span></code></pre><p>Для того чтобы редирект сработал он должен быть отображен как обычный компонент. В нашем случае мы перенаправимся когда <code>appState</code> установится в значение <code>DO_SOMETHING_OVER</code>, т.е. ложное действие окончено.</p><pre class="shiki" style="background-color:#0F111A"><code><span style="color:#C792EA">const</span><span style="color:#FFFFFF"> </span><span style="color:#82AAFF">AngryDude</span><span style="color:#FFFFFF"> </span><span style="color:#C792EA">=</span><span style="color:#FFFFFF"> </span><span style="color:#89DDFF">({</span><span style="color:#FFFFFF"> </span><span style="color:#FF5370">appState</span><span style="color:#89DDFF">,</span><span style="color:#FFFFFF"> </span><span style="color:#FF5370">handleEmojiAction</span><span style="color:#FFFFFF"> </span><span style="color:#89DDFF">})</span><span style="color:#FFFFFF"> </span><span style="color:#C792EA">=&gt;</span><span style="color:#FFFFFF"> </span><span style="color:#89DDFF">{</span>
<span style="color:#FFFFFF">    </span><span style="color:#89DDFF">return</span><span style="color:#FFFFFF"> </span><span style="color:#8F93A2">appState</span><span style="color:#FFFFFF"> </span><span style="color:#C792EA">===</span><span style="color:#FFFFFF"> DO_SOMETHING_OVER </span><span style="color:#C792EA">?</span><span style="color:#FFFFFF"> (</span>
<span style="color:#89DDFF">&lt;</span><span style="color:#F07178">Redirect</span><span style="color:#89DDFF"> </span><span style="color:#C792EA">to=</span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">/thumbs</span><span style="color:#89DDFF">&quot;</span><span style="color:#89DDFF"> /&gt;</span>
<span style="color:#FFFFFF">    ) </span><span style="color:#C792EA">:</span><span style="color:#FFFFFF"> (</span>
<span style="color:#FFFFFF">      </span><span style="color:#89DDFF">&lt;</span><span style="color:#F07178">EmojiLand</span>
<span style="color:#89DDFF">        </span><span style="color:#C792EA">EmojiBg=</span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">linear-gradient(-180deg, #611A51 0%, #10096D 100%)</span><span style="color:#89DDFF">&quot;</span>
<span style="color:#89DDFF">        </span><span style="color:#C792EA">EmojiImg=</span><span style="color:#89DDFF">{</span><span style="color:#8F93A2">angryDudeImg</span><span style="color:#89DDFF">}</span>
<span style="color:#89DDFF">        </span><span style="color:#C792EA">EmojiBtnText=</span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">I&#x27;m so pissed. Click me</span><span style="color:#89DDFF">&quot;</span>
<span style="color:#89DDFF">        </span><span style="color:#C792EA">HandleEmojiAction=</span><span style="color:#89DDFF">{</span><span style="color:#FF5370">this</span><span style="color:#89DDFF">.</span><span style="color:#8F93A2">_handleEmojiAction</span><span style="color:#89DDFF">}</span>
<span style="color:#89DDFF">        </span><span style="color:#C792EA">appState=</span><span style="color:#89DDFF">{</span><span style="color:#FF5370">this</span><span style="color:#89DDFF">.</span><span style="color:#8F93A2">props</span><span style="color:#89DDFF">.</span><span style="color:#8F93A2">appState</span><span style="color:#89DDFF">}</span>
<span style="color:#89DDFF"> /&gt;</span></code></pre><p> То же самое выполним для остальных компонентов. Что ж похоже это было довольно просто? Но есть проблемка</p><h3>Избегайте перезаписи редиректов в истории браузера</h3><p>Я открою новый браузер прокликаю все приложение, но, в какой-то момент я попробую вернуться назад с помощью кнопки браузера <code>Назад</code>.</p><p>В результате я не вернусь к предыдущему маршруту, а перейду к стартовой странице своего браузера.</p><p>Почему?</p><p>Это потому, что по умолчанию использование компонента <code>Redirect</code> заменит текущую локацию в истории браузера.</p><p>Так что даже если мы прошли несколько маршрутов, они подменяли друг друга в записях браузера.</p><p>А значит, с точки зрения браузера мы посетили лишь один маршрут и таким образом нажав на кнопку <code>Назад</code> мы попадем на домашнюю страницу.</p><p>Это как с массивами: вместо чтобы добавлять эдеметы в массив через <code>push </code>, мы меняем в нем текущее значение.</p><p>Вот как это исправить.</p><p>Компонент <code>Redirect</code> может принимать свойство <code>push</code> которое позволит избежать подобное поведение. Со свойством <code>push</code> вы будете добавлять (<code>pushить</code>) каждый маршрут в стэк истории браузера и они НЕ будут заменены.</p><pre class="shiki" style="background-color:#0F111A"><code><span style="color:#89DDFF">return</span><span style="color:#FFFFFF"> </span><span style="color:#8F93A2">appState</span><span style="color:#FFFFFF"> </span><span style="color:#C792EA">===</span><span style="color:#FFFFFF"> DO_SOMETHING_OVER </span><span style="color:#C792EA">?</span><span style="color:#FFFFFF"> (</span>
<span style="color:#FFFFFF">    </span><span style="color:#89DDFF">&lt;</span><span style="color:#F07178">Redirect</span><span style="color:#89DDFF"> </span><span style="color:#C792EA">push</span><span style="color:#89DDFF"> </span><span style="color:#C792EA">to=</span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">/thumbs</span><span style="color:#89DDFF">&quot;</span><span style="color:#89DDFF"> /&gt;</span>
<span style="color:#FFFFFF">  ) </span><span style="color:#C792EA">:</span><span style="color:#FFFFFF"> (</span>
<span style="color:#FFFFFF">    </span><span style="color:#89DDFF">&lt;</span><span style="color:#F07178">EmojiLand</span>
<span style="color:#89DDFF">      </span><span style="color:#C792EA">EmojiBg=</span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">linear-gradient(-180deg, #611A51 0%, #10096D 100%)</span><span style="color:#89DDFF">&quot;</span>
<span style="color:#89DDFF">      </span><span style="color:#C792EA">EmojiImg=</span><span style="color:#89DDFF">{</span><span style="color:#8F93A2">angryDudeImg</span><span style="color:#89DDFF">}</span>
<span style="color:#89DDFF">      </span><span style="color:#C792EA">EmojiBtnText=</span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">I&#x27;m so pissed. Click me</span><span style="color:#89DDFF">&quot;</span>
<span style="color:#89DDFF">      </span><span style="color:#C792EA">HandleEmojiAction=</span><span style="color:#89DDFF">{</span><span style="color:#8F93A2">handleEmojiAction</span><span style="color:#89DDFF">}</span>
<span style="color:#89DDFF">      </span><span style="color:#C792EA">appState=</span><span style="color:#89DDFF">{</span><span style="color:#8F93A2">appState</span><span style="color:#89DDFF">}</span>
<span style="color:#89DDFF">    /&gt;</span>
<span style="color:#FFFFFF">  )</span><span style="color:#89DDFF">;</span></code></pre><h3>Поддержка состояния при навигации</h3><p>Перемещаясь от одного маршрута к другому, переменные предыдущего маршрута не передадлутся следующему маршруту. Они потеряны.</p><p>Да потеряны, если вы ничего не предпримите.</p><p>Что интересно компонент <code>Redirect</code> делает это достточно легко</p><p>Вся штука в том, чтор в свойствах <code>Redirect</code> можно передать как строку так и объект.
А значит, помимо маршрута назначения <code>to</code> можно передать и объект <code>state</code>.</p><pre class="shiki" style="background-color:#0F111A"><code><span style="color:#89DDFF">&lt;</span><span style="color:#F07178">Redirect</span>
<span style="color:#89DDFF">      </span><span style="color:#C792EA">push</span>
<span style="color:#C792EA">to=</span><span style="color:#89DDFF">{{</span>
<span style="color:#89DDFF">        pathname: </span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">/thumbs</span><span style="color:#89DDFF">&quot;</span><span style="color:#89DDFF">,</span>
<span style="color:#89DDFF">        state: {</span>
<span style="color:#89DDFF">          humanType: </span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">Cat Person</span><span style="color:#89DDFF">&quot;</span><span style="color:#89DDFF">,</span>
<span style="color:#89DDFF">          age: </span><span style="color:#F78C6C">12</span><span style="color:#89DDFF">,</span>
<span style="color:#89DDFF">          sex: </span><span style="color:#89DDFF">&quot;</span><span style="color:#C3E88D">none</span><span style="color:#89DDFF">&quot;</span>
<span style="color:#89DDFF">        }</span>
<span style="color:#89DDFF">      }}</span>
<span style="color:#89DDFF">    /&gt;</span></code></pre></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/redux-routing/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-ba4dea94da6c9c498fb8.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-b9fb8ea3e5b32af02392.js"],"component---src-templates-tags-js":["/component---src-templates-tags-js-29570e9d4e371b3ff3b1.js"],"component---src-pages-404-js":["/component---src-pages-404-js-eff5c949e344b95f6dc6.js"],"component---src-pages-index-js":["/component---src-pages-index-js-44146cd5049517a97792.js"],"component---src-pages-tags-js":["/component---src-pages-tags-js-239faf29a0aabd19e8af.js"],"component---src-pages-posts-4-ways-working-with-react-state-md":["/component---src-pages-posts-4-ways-working-with-react-state-md-4ac4ee23bd83e89360ad.js"],"component---src-pages-posts-redux-immutable-js-mdx":["/component---src-pages-posts-redux-immutable-js-mdx-c609ff3438715e2ad7f1.js"],"component---src-pages-posts-redux-routing-md":["/component---src-pages-posts-redux-routing-md-29632a5f8af9b911cd6c.js"],"component---src-pages-posts-typescript-with-babel-md":["/component---src-pages-posts-typescript-with-babel-md-96fb323bafba823491a5.js"],"component---src-pages-posts-understanding-passport-js-md":["/component---src-pages-posts-understanding-passport-js-md-9e9c4dbef7bca9eb3a66.js"],"component---src-pages-posts-ydkjs-scope-closures-md":["/component---src-pages-posts-ydkjs-scope-closures-md-9bbce2e61c9a2008cbd2.js"],"component---src-pages-posts-you-dont-know-js-types-md":["/component---src-pages-posts-you-dont-know-js-types-md-c38b1ff35a20b308f674.js"]};/*]]>*/</script><script src="/dev-docs/component---src-pages-posts-redux-routing-md-29632a5f8af9b911cd6c.js" async=""></script><script src="/dev-docs/app-ba4dea94da6c9c498fb8.js" async=""></script><script src="/dev-docs/commons-219ea28c1c39fae67d6f.js" async=""></script><script src="/dev-docs/styles-3251c89baff59e4ed99c.js" async=""></script><script src="/dev-docs/webpack-runtime-9806718077849401d73a.js" async=""></script></body></html>